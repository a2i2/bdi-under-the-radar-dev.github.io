import{f as q,s as _,g as F,c,h as n,e,L as b,H as C,I as V,i as s,j as u,F as I,k as T,z as D,o as d,X as H,A as o,p as J,d as W,ao as $,al as j,an as z,ap as E,aq as M,_ as X}from"./index.643b78dc.js";const f=r=>(J("data-v-9c5218f9"),r=r(),W(),r),K={class:"auth-test-page"},Q=f(()=>e("hr",null,null,-1)),Y={class:"atp-grid"},Z={class:"atp-email"},ee=["disabled"],te={class:"atp-participant"},ae={class:"atp-otp"},se=["disabled"],ne={class:"atp-button-row"},oe=f(()=>e("hr",null,null,-1)),le=f(()=>e("hr",null,null,-1)),ie={key:0},ce={class:"profile-box"},ue=["src"],de={key:1},re=q({__name:"TestAuthView",setup(r){var k;const{user:l,isLoggedIn:p,email:N,startPasswordlessLogin:w,submitOTP:O,getRouterTargetForHomeOrLoginIfNeeded:P,logout:S}=D(),v=_(""),m=_(""),i=_((k=N.value)!=null?k:""),h=_(""),x=F(()=>{var t,a;return(a=(t=l.value)==null?void 0:t.user_metadata.participantId)!=null?a:""});async function A(){try{const t=await $();v.value=JSON.stringify(t,null,"	")}catch(t){v.value=`${t}`}}async function B(){try{const a=await j("00000000-0000-0000-0000-000000000001");m.value=JSON.stringify(a,null,"	")}catch(t){console.log("caught"),m.value=`${t}`}}async function L(){const t=i.value;await z(t),await w(t)}async function R(){const t=i.value;await w(t)}async function U(){const t=i.value,a=h.value;await O(a,t),E.push(P())}const y=()=>{S(),E.push("/")},G=async()=>{await M(x.value),y()};return(t,a)=>(d(),c("div",K,[n(H,{label:"Back",link:"/"}),Q,e("div",Y,[e("div",null,[e("div",Z,[b("email: "),C(e("input",{"onUpdate:modelValue":a[0]||(a[0]=g=>i.value=g),type:"text",disabled:s(p)},null,8,ee),[[V,i.value]])]),e("div",te,"participantId: "+u(s(x)),1),e("div",ae,[b("otp response: "),C(e("input",{"onUpdate:modelValue":a[1]||(a[1]=g=>h.value=g),type:"text",disabled:s(p)},null,8,se),[[V,h.value]])]),e("div",ne,[s(p)?T("",!0):(d(),c(I,{key:0},[n(o,{label:"Sign Up",onClick:L}),n(o,{label:"Request OTP Code",onClick:R}),n(o,{label:"Enter OTP Code",onClick:U})],64)),s(p)?(d(),c(I,{key:1},[n(o,{label:"Log Out",icon:"signup",onClick:y}),n(o,{label:"Withdraw (delete user info)",icon:"signup",onClick:G})],64)):T("",!0)]),oe,e("div",null,[n(o,{label:"Get Experiments",icon:"download",onClick:A}),e("pre",null,u(v.value),1)]),le,e("div",null,[n(o,{label:"Get Experiment",icon:"download",onClick:B}),e("pre",null,u(m.value),1)])]),e("div",null,[s(l)?(d(),c("div",ie,[e("div",ce,[e("img",{src:s(l).picture,alt:"Profile"},null,8,ue),e("div",null,[e("h2",null,u(s(l).nickname),1),e("span",null,u(s(l).email),1)])])])):(d(),c("div",de,"No User info"))])])]))}});const _e=X(re,[["__scopeId","data-v-9c5218f9"]]);export{_e as default};
