import{r as w,t as h,a as Ee,b as H,_ as ne,o as C,c as $,p as Te,d as Se,e as x,f as oe,u as De,g as D,h as G,i as S,j as te,k as ie,A as $e,l as xe,m as Ie,F as le,n as de,q as j,s as Fe,v as Le,w as Ae,x as He,y as qe,z as Re}from"./index.c977fb23.js";import{u as Xe}from"./participantStore.c262863b.js";import{u as Be}from"./surveyStore.e1077c6b.js";import{l as ze}from"./surveyStorage.34c3760f.js";import"./storeHelpers.9ef1cf43.js";var Qe={};function q(){return Qe}function F(a){var t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),a.getTime()-t.getTime()}function ce(a){w(1,arguments);var t=h(a);return t.setHours(0,0,0,0),t}var Ge=864e5;function Ve(a,t){w(2,arguments);var e=ce(a),r=ce(t),n=e.getTime()-F(e),o=r.getTime()-F(r);return Math.round((n-o)/Ge)}function B(a,t){w(2,arguments);var e=h(a),r=h(t),n=e.getTime()-r.getTime();return n<0?-1:n>0?1:n}var je=1e3;function V(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?V=function(e){return typeof e}:V=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(a)}function Je(a){return w(1,arguments),a instanceof Date||V(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function Ke(a){if(w(1,arguments),!Je(a)&&typeof a!="number")return!1;var t=h(a);return!isNaN(Number(t))}function Ze(a,t){w(2,arguments);var e=h(a),r=h(t),n=e.getFullYear()-r.getFullYear(),o=e.getMonth()-r.getMonth();return n*12+o}function fe(a,t){var e=a.getFullYear()-t.getFullYear()||a.getMonth()-t.getMonth()||a.getDate()-t.getDate()||a.getHours()-t.getHours()||a.getMinutes()-t.getMinutes()||a.getSeconds()-t.getSeconds()||a.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function et(a,t){w(2,arguments);var e=h(a),r=h(t),n=fe(e,r),o=Math.abs(Ve(e,r));e.setDate(e.getDate()-n*o);var i=Number(fe(e,r)===-n),s=n*(o-i);return s===0?0:s}function tt(a,t){return w(2,arguments),h(a).getTime()-h(t).getTime()}var me={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},at="trunc";function rt(a){return a?me[a]:me[at]}function nt(a){w(1,arguments);var t=h(a);return t.setHours(23,59,59,999),t}function ot(a){w(1,arguments);var t=h(a),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function it(a){w(1,arguments);var t=h(a);return nt(t).getTime()===ot(t).getTime()}function st(a,t){w(2,arguments);var e=h(a),r=h(t),n=B(e,r),o=Math.abs(Ze(e,r)),i;if(o<1)i=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-n*o);var s=B(e,r)===-n;it(h(a))&&o===1&&B(a,r)===1&&(s=!1),i=n*(o-Number(s))}return i===0?0:i}function ut(a,t,e){w(2,arguments);var r=tt(a,t)/1e3;return rt(e==null?void 0:e.roundingMethod)(r)}function lt(a,t){w(2,arguments);var e=H(t);return Ee(a,-e)}var dt=864e5;function ct(a){w(1,arguments);var t=h(a),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),n=e-r;return Math.floor(n/dt)+1}function J(a){w(1,arguments);var t=1,e=h(a),r=e.getUTCDay(),n=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-n),e.setUTCHours(0,0,0,0),e}function ke(a){w(1,arguments);var t=h(a),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var n=J(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var i=J(o);return t.getTime()>=n.getTime()?e+1:t.getTime()>=i.getTime()?e:e-1}function ft(a){w(1,arguments);var t=ke(a),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=J(e);return r}var mt=6048e5;function vt(a){w(1,arguments);var t=h(a),e=J(t).getTime()-ft(t).getTime();return Math.round(e/mt)+1}function K(a,t){var e,r,n,o,i,s,u,d;w(1,arguments);var g=q(),c=H((e=(r=(n=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(s=i.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&n!==void 0?n:g.weekStartsOn)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&e!==void 0?e:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=h(a),l=M.getUTCDay(),p=(l<c?7:0)+l-c;return M.setUTCDate(M.getUTCDate()-p),M.setUTCHours(0,0,0,0),M}function Oe(a,t){var e,r,n,o,i,s,u,d;w(1,arguments);var g=h(a),c=g.getUTCFullYear(),M=q(),l=H((e=(r=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(s=i.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&n!==void 0?n:M.firstWeekContainsDate)!==null&&r!==void 0?r:(u=M.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(c+1,0,l),p.setUTCHours(0,0,0,0);var b=K(p,t),_=new Date(0);_.setUTCFullYear(c,0,l),_.setUTCHours(0,0,0,0);var f=K(_,t);return g.getTime()>=b.getTime()?c+1:g.getTime()>=f.getTime()?c:c-1}function ht(a,t){var e,r,n,o,i,s,u,d;w(1,arguments);var g=q(),c=H((e=(r=(n=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(s=i.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&n!==void 0?n:g.firstWeekContainsDate)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1),M=Oe(a,t),l=new Date(0);l.setUTCFullYear(M,0,c),l.setUTCHours(0,0,0,0);var p=K(l,t);return p}var gt=6048e5;function yt(a,t){w(1,arguments);var e=h(a),r=K(e,t).getTime()-ht(e,t).getTime();return Math.round(r/gt)+1}function y(a,t){for(var e=a<0?"-":"",r=Math.abs(a).toString();r.length<t;)r="0"+r;return e+r}var wt={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return y(e==="yy"?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):y(r+1,2)},d:function(t,e){return y(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return y(t.getUTCHours()%12||12,e.length)},H:function(t,e){return y(t.getUTCHours(),e.length)},m:function(t,e){return y(t.getUTCMinutes(),e.length)},s:function(t,e){return y(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,n=t.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,r-3));return y(o,e.length)}};const E=wt;var A={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pt={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var n=t.getUTCFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return E.y(t,e)},Y:function(t,e,r,n){var o=Oe(t,n),i=o>0?o:1-o;if(e==="YY"){var s=i%100;return y(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):y(i,e.length)},R:function(t,e){var r=ke(t);return y(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return y(r,e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return y(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return y(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return E.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return y(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){var o=yt(t,n);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):y(o,e.length)},I:function(t,e,r){var n=vt(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):y(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):E.d(t,e)},D:function(t,e,r){var n=ct(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):y(n,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return y(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var o=t.getUTCDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return y(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),o=n===0?7:n;switch(e){case"i":return String(o);case"ii":return y(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours(),o=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n=t.getUTCHours(),o;switch(n===12?o=A.noon:n===0?o=A.midnight:o=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n=t.getUTCHours(),o;switch(n>=17?o=A.evening:n>=12?o=A.afternoon:n>=4?o=A.morning:o=A.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return E.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):E.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):y(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):y(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):E.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):E.s(t,e)},S:function(t,e){return E.S(t,e)},X:function(t,e,r,n){var o=n._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return he(i);case"XXXX":case"XX":return I(i);case"XXXXX":case"XXX":default:return I(i,":")}},x:function(t,e,r,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(e){case"x":return he(i);case"xxxx":case"xx":return I(i);case"xxxxx":case"xxx":default:return I(i,":")}},O:function(t,e,r,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ve(i,":");case"OOOO":default:return"GMT"+I(i,":")}},z:function(t,e,r,n){var o=n._originalDate||t,i=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ve(i,":");case"zzzz":default:return"GMT"+I(i,":")}},t:function(t,e,r,n){var o=n._originalDate||t,i=Math.floor(o.getTime()/1e3);return y(i,e.length)},T:function(t,e,r,n){var o=n._originalDate||t,i=o.getTime();return y(i,e.length)}};function ve(a,t){var e=a>0?"-":"+",r=Math.abs(a),n=Math.floor(r/60),o=r%60;if(o===0)return e+String(n);var i=t||"";return e+String(n)+i+y(o,2)}function he(a,t){if(a%60===0){var e=a>0?"-":"+";return e+y(Math.abs(a)/60,2)}return I(a,t)}function I(a,t){var e=t||"",r=a>0?"-":"+",n=Math.abs(a),o=y(Math.floor(n/60),2),i=y(n%60,2);return r+o+e+i}const bt=pt;var ge=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ce=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mt=function(t,e){var r=t.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return ge(t,e);var i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ge(n,e)).replace("{{time}}",Ce(o,e))},_t={p:Ce,P:Mt};const Tt=_t;var St=["D","DD"],Dt=["YY","YYYY"];function xt(a){return St.indexOf(a)!==-1}function kt(a){return Dt.indexOf(a)!==-1}function ye(a,t,e){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ct=function(t,e,r){var n,o=Ot[t];return typeof o=="string"?n=o:e===1?n=o.one:n=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};const Pt=Ct;function ae(a){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):a.defaultWidth,r=a.formats[e]||a.formats[a.defaultWidth];return r}}var Wt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ut={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nt={date:ae({formats:Wt,defaultWidth:"full"}),time:ae({formats:Ut,defaultWidth:"full"}),dateTime:ae({formats:Yt,defaultWidth:"full"})};const Et=Nt;var $t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},It=function(t,e,r,n){return $t[t]};const Ft=It;function R(a){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",n;if(r==="formatting"&&a.formattingValues){var o=a.defaultFormattingWidth||a.defaultWidth,i=e!=null&&e.width?String(e.width):o;n=a.formattingValues[i]||a.formattingValues[o]}else{var s=a.defaultWidth,u=e!=null&&e.width?String(e.width):a.defaultWidth;n=a.values[u]||a.values[s]}var d=a.argumentCallback?a.argumentCallback(t):t;return n[d]}}var Lt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},At={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ht={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bt=function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zt={ordinalNumber:Bt,era:R({values:Lt,defaultWidth:"wide"}),quarter:R({values:At,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:R({values:Ht,defaultWidth:"wide"}),day:R({values:qt,defaultWidth:"wide"}),dayPeriod:R({values:Rt,defaultWidth:"wide",formattingValues:Xt,defaultFormattingWidth:"wide"})};const Qt=zt;function X(a){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,n=r&&a.matchPatterns[r]||a.matchPatterns[a.defaultMatchWidth],o=t.match(n);if(!o)return null;var i=o[0],s=r&&a.parsePatterns[r]||a.parsePatterns[a.defaultParseWidth],u=Array.isArray(s)?Vt(s,function(c){return c.test(i)}):Gt(s,function(c){return c.test(i)}),d;d=a.valueCallback?a.valueCallback(u):u,d=e.valueCallback?e.valueCallback(d):d;var g=t.slice(i.length);return{value:d,rest:g}}}function Gt(a,t){for(var e in a)if(a.hasOwnProperty(e)&&t(a[e]))return e}function Vt(a,t){for(var e=0;e<a.length;e++)if(t(a[e]))return e}function jt(a){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(a.matchPattern);if(!r)return null;var n=r[0],o=t.match(a.parsePattern);if(!o)return null;var i=a.valueCallback?a.valueCallback(o[0]):o[0];i=e.valueCallback?e.valueCallback(i):i;var s=t.slice(n.length);return{value:i,rest:s}}}var Jt=/^(\d+)(th|st|nd|rd)?/i,Kt=/\d+/i,Zt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ea={any:[/^b/i,/^(a|c)/i]},ta={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aa={any:[/1/i,/2/i,/3/i,/4/i]},ra={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},na={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oa={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ia={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ua={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},la={ordinalNumber:jt({matchPattern:Jt,parsePattern:Kt,valueCallback:function(t){return parseInt(t,10)}}),era:X({matchPatterns:Zt,defaultMatchWidth:"wide",parsePatterns:ea,defaultParseWidth:"any"}),quarter:X({matchPatterns:ta,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:X({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),day:X({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:sa,defaultMatchWidth:"any",parsePatterns:ua,defaultParseWidth:"any"})};const da=la;var ca={code:"en-US",formatDistance:Pt,formatLong:Et,formatRelative:Ft,localize:Qt,match:da,options:{weekStartsOn:0,firstWeekContainsDate:1}};const se=ca;var fa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ma=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,va=/^'([^]*?)'?$/,ha=/''/g,ga=/[a-zA-Z]/;function ya(a,t,e){var r,n,o,i,s,u,d,g,c,M,l,p,b,_,f,v,m,O;w(2,arguments);var L=String(t),P=q(),W=(r=(n=e==null?void 0:e.locale)!==null&&n!==void 0?n:P.locale)!==null&&r!==void 0?r:se,U=H((o=(i=(s=(u=e==null?void 0:e.firstWeekContainsDate)!==null&&u!==void 0?u:e==null||(d=e.locale)===null||d===void 0||(g=d.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&s!==void 0?s:P.firstWeekContainsDate)!==null&&i!==void 0?i:(c=P.locale)===null||c===void 0||(M=c.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(U>=1&&U<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=H((l=(p=(b=(_=e==null?void 0:e.weekStartsOn)!==null&&_!==void 0?_:e==null||(f=e.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&b!==void 0?b:P.weekStartsOn)!==null&&p!==void 0?p:(m=P.locale)===null||m===void 0||(O=m.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&l!==void 0?l:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!W.localize)throw new RangeError("locale must contain localize property");if(!W.formatLong)throw new RangeError("locale must contain formatLong property");var Y=h(a);if(!Ke(Y))throw new RangeError("Invalid time value");var z=F(Y),Ue=lt(Y,z),Ye={firstWeekContainsDate:U,weekStartsOn:T,locale:W,_originalDate:Y},Ne=L.match(ma).map(function(k){var N=k[0];if(N==="p"||N==="P"){var Q=Tt[N];return Q(k,W.formatLong)}return k}).join("").match(fa).map(function(k){if(k==="''")return"'";var N=k[0];if(N==="'")return wa(k);var Q=bt[N];if(Q)return!(e!=null&&e.useAdditionalWeekYearTokens)&&kt(k)&&ye(k,t,String(a)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&xt(k)&&ye(k,t,String(a)),Q(Ue,k,W.localize,Ye);if(N.match(ga))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return k}).join("");return Ne}function wa(a){var t=a.match(va);return t?t[1].replace(ha,"'"):a}function ue(a,t){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a}function Pe(a){return ue({},a)}var we=1440,pa=2520,re=43200,ba=86400;function Ma(a,t,e){var r,n;w(2,arguments);var o=q(),i=(r=(n=e==null?void 0:e.locale)!==null&&n!==void 0?n:o.locale)!==null&&r!==void 0?r:se;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=B(a,t);if(isNaN(s))throw new RangeError("Invalid time value");var u=ue(Pe(e),{addSuffix:Boolean(e==null?void 0:e.addSuffix),comparison:s}),d,g;s>0?(d=h(t),g=h(a)):(d=h(a),g=h(t));var c=ut(g,d),M=(F(g)-F(d))/1e3,l=Math.round((c-M)/60),p;if(l<2)return e!=null&&e.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,u):c<10?i.formatDistance("lessThanXSeconds",10,u):c<20?i.formatDistance("lessThanXSeconds",20,u):c<40?i.formatDistance("halfAMinute",0,u):c<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):l===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",l,u);if(l<45)return i.formatDistance("xMinutes",l,u);if(l<90)return i.formatDistance("aboutXHours",1,u);if(l<we){var b=Math.round(l/60);return i.formatDistance("aboutXHours",b,u)}else{if(l<pa)return i.formatDistance("xDays",1,u);if(l<re){var _=Math.round(l/we);return i.formatDistance("xDays",_,u)}else if(l<ba)return p=Math.round(l/re),i.formatDistance("aboutXMonths",p,u)}if(p=st(g,d),p<12){var f=Math.round(l/re);return i.formatDistance("xMonths",f,u)}else{var v=p%12,m=Math.floor(p/12);return v<3?i.formatDistance("aboutXYears",m,u):v<9?i.formatDistance("overXYears",m,u):i.formatDistance("almostXYears",m+1,u)}}var pe=1e3*60,Z=60*24,be=Z*30,Me=Z*365;function _a(a,t,e){var r,n,o;w(2,arguments);var i=q(),s=(r=(n=e==null?void 0:e.locale)!==null&&n!==void 0?n:i.locale)!==null&&r!==void 0?r:se;if(!s.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var u=B(a,t);if(isNaN(u))throw new RangeError("Invalid time value");var d=ue(Pe(e),{addSuffix:Boolean(e==null?void 0:e.addSuffix),comparison:u}),g,c;u>0?(g=h(t),c=h(a)):(g=h(a),c=h(t));var M=String((o=e==null?void 0:e.roundingMethod)!==null&&o!==void 0?o:"round"),l;if(M==="floor")l=Math.floor;else if(M==="ceil")l=Math.ceil;else if(M==="round")l=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var p=c.getTime()-g.getTime(),b=p/pe,_=F(c)-F(g),f=(p-_)/pe,v=e==null?void 0:e.unit,m;if(v?m=String(v):b<1?m="second":b<60?m="minute":b<Z?m="hour":f<be?m="day":f<Me?m="month":m="year",m==="second"){var O=l(p/1e3);return s.formatDistance("xSeconds",O,d)}else if(m==="minute"){var L=l(b);return s.formatDistance("xMinutes",L,d)}else if(m==="hour"){var P=l(b/60);return s.formatDistance("xHours",P,d)}else if(m==="day"){var W=l(f/Z);return s.formatDistance("xDays",W,d)}else if(m==="month"){var U=l(f/be);return U===12&&v!=="month"?s.formatDistance("xYears",1,d):s.formatDistance("xMonths",U,d)}else if(m==="year"){var T=l(f/Me);return s.formatDistance("xYears",T,d)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Ta(a,t){return w(1,arguments),_a(a,Date.now(),t)}function Sa(a){return w(1,arguments),h(a).getTime()<Date.now()}function Da(a){return w(1,arguments),a*je}const xa="/assets/all-done.5f5da768.svg";const ka={},We=a=>(Te("data-v-49b35497"),a=a(),Se(),a),Oa={class:"all-done-page"},Ca=We(()=>x("img",{src:xa,alt:"All Done",draggable:"false"},null,-1)),Pa=We(()=>x("h4",{class:"adp-text"},"All done for today!",-1)),Wa=[Ca,Pa];function Ua(a,t){return C(),$("article",Oa,Wa)}const Ya=ne(ka,[["render",Ua],["__scopeId","data-v-49b35497"]]),Na={class:"task-panel"},Ea={class:"tp-body"},$a={class:"tp-icon"},Ia={class:"tp-header"},Fa={class:"tp-info utr-text-caption"},La={class:"tp-caption"},Aa={class:"tp-caption-info"},Ha={key:0,class:"tp-caption"},qa=["datetime"],Ra=oe({__name:"TaskPanel",props:{type:null,heroStyle:{type:Boolean},locked:{type:Boolean},started:{type:Boolean},title:null,estimateSeconds:null,expiresAt:null},emits:["goto"],setup(a,{emit:t}){const e=a;xe(b=>({"00212af5":S(c),"576b2986":S(M),"41e28d72":S(u),"0c74af02":S(l),"8d6b264e":S(p),"82146b98":S(i)}));const r=De(),n=D(()=>({survey:"clipboard-text-clock",resource:"file-move-outline"})[e.type]),o=D(()=>e.locked?"Locked":e.started&&e.type==="survey"?"Continue survey":{survey:"Begin Survey",resource:"View Resource"}[e.type]),i=D(()=>`min(100%, ${{small:"160px",medium:"200px",large:"256px"}[r.textSize]})`),s=D(()=>({small:18,medium:24,large:36})[r.textSize]),u=D(()=>({small:"30px",medium:"40px",large:"64px"})[r.textSize]),d=D(()=>Ma(0,Da(e.estimateSeconds),{includeSeconds:!0})),g=D(()=>{const b=Ta(e.expiresAt,{roundingMethod:"ceil"});if(Sa(e.expiresAt))return`${b} ago`;const _=et(e.expiresAt,new Date);return _<1?"Complete by the end of today":_<2?"Complete by the end of tomorrow":_<7?`Complete within ${b}`:`Complete by ${ya(e.expiresAt,"do MMMM")}`}),c=D(()=>e.heroStyle?"var(--utr-dark-orange)":"white"),M=D(()=>e.heroStyle?"white":"var(--utr-grey-text)"),l=D(()=>e.heroStyle?"white":"var(--utr-dark-orange)"),p=D(()=>e.heroStyle?"var(--utr-dark-orange)":"white");return(b,_)=>{const f=Ie("mdicon");return C(),$("section",Na,[x("div",Ea,[x("div",$a,[G(f,{name:S(n),size:S(s)},null,8,["name","size"])]),x("h2",Ia,te(a.title),1),x("div",Fa,[x("span",La,[G(f,{class:"tp-caption-icon",name:"timer-outline",size:"16"}),x("span",Aa,te(S(d)),1)]),a.locked?ie("",!0):(C(),$("span",Ha,[G(f,{class:"tp-caption-icon",name:"clock-time-four-outline",size:"16"}),x("time",{class:"tp-caption-info",datetime:a.expiresAt.toISOString()},te(S(g)),9,qa)]))]),G($e,{class:"tp-goto-btn",label:S(o),disabled:a.locked,"disabled-color":"var(--utr-grey-text)",color:S(l),"text-color":a.locked?"white":S(p),onClick:_[0]||(_[0]=v=>t("goto"))},null,8,["label","disabled","color","text-color"])])])}}});const _e=ne(Ra,[["__scopeId","data-v-e7745154"]]),ee=a=>(Te("data-v-d0e2e231"),a=a(),Se(),a),Xa={class:"user-home-layout"},Ba=ee(()=>x("h3",{class:"uhl-survey-group-header"},"Available surveys",-1)),za=ee(()=>x("h4",{class:"uhl-survey-group-subheader"},"Please complete all surveys below.",-1)),Qa={class:"uhl-survey-list"},Ga={key:0},Va=ee(()=>x("h3",{class:"uhl-survey-group-header"},"Next available surveys",-1)),ja=ee(()=>x("h4",{class:"uhl-survey-group-subheader"},"These will be unlocked when you complete your available surveys.",-1)),Ja={class:"uhl-survey-list"},Ka=oe({__name:"UserHomeLayout",props:{availableSurveys:null,lockedSurveys:null,startedSurveyIds:null},emits:["select"],setup(a,{emit:t}){xe(o=>({aafeac4c:S(r),"9bd9fd44":S(n)}));const e=De(),r=D(()=>e.breakpoint==="mobile"||e.breakpoint==="small"?"2rem":"80px"),n=D(()=>e.breakpoint==="mobile"||e.breakpoint==="small"?"1rem":"2rem");return(o,i)=>(C(),$("div",Xa,[x("article",null,[Ba,za,x("div",Qa,[(C(!0),$(le,null,de(a.availableSurveys,s=>{var u;return C(),j(_e,{key:s.id,type:"survey","hero-style":!1,locked:!1,started:a.startedSurveyIds.includes(s.id),title:s.displayName,"estimate-seconds":parseInt((u=s.estimatedDuration)!=null?u:"300"),"expires-at":new Date(s.endTime),onGoto:d=>t("select",s.id)},null,8,["started","title","estimate-seconds","expires-at","onGoto"])}),128))])]),a.lockedSurveys&&a.lockedSurveys.length>0?(C(),$("article",Ga,[Va,ja,x("div",Ja,[(C(!0),$(le,null,de(a.lockedSurveys,s=>{var u;return C(),j(_e,{key:s.id,type:"survey","hero-style":!1,locked:!0,started:!1,title:s.displayName,"estimate-seconds":parseInt((u=s.estimatedDuration)!=null?u:"300"),"expires-at":new Date(s.endTime)},null,8,["title","estimate-seconds","expires-at"])}),128))])])):ie("",!0)]))}});const Za=ne(Ka,[["__scopeId","data-v-d0e2e231"]]),er={class:"user-home-view"},ir=oe({__name:"UserHomeView",setup(a){const{user:t}=Re(),e=qe();function r(f){e.push(f)}const n=Be(),o=Xe(),i=D(()=>{var f,v;return(v=(f=t.value)==null?void 0:f.user_metadata.participantId)!=null?v:""}),s=D(()=>o.getCachedParticipantSurveys(i.value)),u=["baseline","intervention","video-feedback","mental-health","dce","follow-up"];function d(f){if(!u.some(v=>v===f))throw new Error(`Unknown survey name: ${f}`)}function g(f){const v=/-\d$/;let m=f;return v.test(f)&&(m=f.slice(0,-2)),d(m),m}const c=D(()=>{if(!s.value)return null;const f=s.value.filter(T=>!T.completed&&!n.completedSurveys[T.id]).map(T=>[g(T.name),T]),v=new Map(f.map(T=>[T[0],T])),m=[],O=[],L=v.get("baseline"),P=v.get("intervention");L?(v.delete("baseline"),m.push(L),O.push(...v.values())):P?(v.delete("intervention"),m.push(P),O.push(...v.values())):m.push(...v.values());const W=(T,Y)=>u.indexOf(T[0])-u.indexOf(Y[0]);m.sort(W),O.sort(W);const U=[];for(const[T,Y]of m){const z=ze(`userSurvey:${Y.id}`);z&&z.oldPageIndex&&U.push(Y.id)}return{available:m.map(T=>T[1]),locked:O.map(T=>T[1]),started:U}}),M=D(()=>{var f,v;return((f=c.value)==null?void 0:f.available.length)===0&&((v=c.value)==null?void 0:v.locked.length)===0}),l=async()=>{o.cacheParticipantSurveys(i.value,!0)},p=Fe();async function b(){try{await l()}catch(O){console.log("Failed to download surveys",O)}const f=s.value,m=f&&f.length>0?30:5;p.value=setTimeout(b,m*1e3)}const _=Le();return Ae(async()=>{_.setPageTitle("Your surveys"),_.openLoadingOverlay();try{await b()}finally{_.closeLoadingOverlay()}}),He(()=>{clearTimeout(p.value)}),(f,v)=>(C(),$("div",er,[S(M)?(C(),j(Ya,{key:0})):S(c)?(C(),j(Za,{key:1,"available-surveys":S(c).available,"locked-surveys":S(c).locked,"started-survey-ids":S(c).started,onSelect:v[0]||(v[0]=m=>r(`/survey/${m}`))},null,8,["available-surveys","locked-surveys","started-survey-ids"])):ie("",!0)]))}});export{ir as default};
